---
import "./_styles/global.css";
import BaseLayout from "./_layout/BaseLayout.astro";
---


<BaseLayout>
<div class="min-h-dvh bg-slate-50 p-6">
  <main class="mx-auto max-w-screen-md space-y-8">
    <!-- ボタン -->
    <section>
      <button
        class="rounded-lg bg-sky-600 px-4 py-2 text-white font-medium
               hover:bg-sky-700 active:bg-sky-800
               focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2
               transition">Button</button>
    </section>

    <!-- details + group-open -->
    <section>
      <details class="group rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <summary class="flex cursor-pointer items-center justify-between">
          <span class="font-medium">開閉</span><span class="transition group-open:rotate-0">⌄</span>
        </summary>
        <div class="mt-3 hidden group-open:block text-slate-700">group-open: で表示</div>
      </details>
    </section>

    <!-- peer-checked -->
    <section>
      <label class="flex items-center gap-3">
        <input type="checkbox" class="peer size-4 rounded border-slate-300" />
        <span class="rounded-lg border px-3 py-1.5 text-sm peer-checked:bg-emerald-600 peer-checked:text-white transition">トグル</span>
      </label>
    </section>

    <!-- ARIA + 任意セレクタバリアント -->
    <section>
      <button id="ariaBtn" aria-expanded="false"
              class="rounded-lg border border-slate-300 bg-white px-4 py-2
                     focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400
                     transition [&[aria-expanded='true']]:bg-sky-600 [&[aria-expanded='true']]:text-white">
        ARIAで開閉
      </button>
      <div id="ariaPanel" hidden class="mt-2 rounded-lg border p-3">開いたときだけ表示</div>
    </section>
  </main>
</div>
<script>
  const btn = document.getElementById('ariaBtn');
  const panel = document.getElementById('ariaPanel');
  btn!.addEventListener('click', () => {
    const next = btn!.getAttribute('aria-expanded') === 'true' ? 'false' : 'true';
    btn!.setAttribute('aria-expanded', next);
    panel!.hidden = next !== 'true';
  });
</script>
</BaseLayout>
